(function(e){function t(t){for(var r,i,c=t[0],s=t[1],l=t[2],d=0,f=[];d<c.length;d++)i=c[d],o[i]&&f.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={0:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;a.push([0,1]),n()})({0:function(e,t,n){e.exports=n("Vtdi")},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},RPEw:function(e,t,n){"use strict";var r=n("UhaQ"),o=n.n(r);o.a},UhaQ:function(e,t,n){},Vtdi:function(e,t,n){"use strict";n.r(t);n("dE+T"),n("bHtr"),n("dRSK"),n("INYr"),n("HEwt"),n("Z2Ku"),n("yt8O"),n("6AQ9"),n("Vd3H"),n("0E+W"),n("yM4b"),n("IXt9"),n("f3/d"),n("9AAn"),n("fyVe"),n("U2t9"),n("2atp"),n("+auO"),n("MtdB"),n("Jcmo"),n("nzyx"),n("BC7C"),n("x8ZO"),n("9P93"),n("BJ/l"),n("eHKK"),n("pp/T"),n("CyHz"),n("bBoP"),n("x8Yj"),n("hLT2"),n("xfY5"),n("Ljet"),n("/KAi"),n("fN96"),n("7h0T"),n("sbF8"),n("h/M4"),n("knhD"),n("XfKG"),n("BP8U"),n("91GP"),n("RQRG"),n("/uf1"),n("/8Fb"),n("DW2E"),n("mYba"),n("jm62"),n("JduL"),n("5Pf0"),n("uaHG"),n("ZNX/"),n("mura"),n("25dN"),n("Zshi"),n("V/DX"),n("FlsD"),n("RW0V"),n("z2o2"),n("/SS/"),n("hhXQ"),n("VRzm"),n("CX2u"),n("3xty"),n("I5cv"),n("iMoV"),n("uhZd"),n("0YWM"),n("694e"),n("LTTk"),n("9rMk"),n("IlFx"),n("xpiv"),n("oZ/O"),n("klPD"),n("knU9"),n("Oyvg"),n("OEbY"),n("SRfc"),n("pIFo"),n("KKXr"),n("OG14"),n("a1Th"),n("T39b"),n("ioFf"),n("rE2o"),n("hEkN"),n("nIY7"),n("+oPb"),n("SMB2"),n("oDIu"),n("rvZc"),n("0mN4"),n("bDcW"),n("nsiH"),n("VpUO"),n("L9s1"),n("0LDn"),n("tUrg"),n("9XZr"),n("7VC1"),n("eI33"),n("FLlr"),n("84bF"),n("9VmF"),n("FEjr"),n("Zz4T"),n("JCqj"),n("xm80"),n("sFw1"),n("NO8f"),n("aqI/"),n("Faw5"),n("r1bV"),n("tuSo"),n("nCnK"),n("Y9lz"),n("Tdpu"),n("EK0E"),n("wCsR"),n("R5XZ"),n("Ew+T"),n("rGqo"),n("ls82");var r=n("Kw5r"),o=n("zlta"),a=n.n(o);n("v0CA");r["default"].use(a.a,{theme:{primary:"#3f51b5",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-toolbar",{attrs:{dark:"",color:"primary",app:""}},[n("v-toolbar-title",{domProps:{textContent:e._s(e.title)}})],1),n("v-content",[n("GenderDetect")],1),n("v-footer",{attrs:{fixed:!0,app:""}},[n("v-flex",{attrs:{primary:"","lighten-2":"","py-3":"","text-xs-center":"","white--text":"",xs12:""}},[e._v("\n      ©2018 — "),n("strong",[n("a",{staticClass:"white--text",attrs:{target:"_blank",href:"https://bharathvajganesan.me"}},[e._v("bharathvajganesan")])])])],1),n("a",{attrs:{href:"https://github.com/bharathvaj1995/gender-detection-tensorflowjs"}},[n("img",{staticStyle:{position:"absolute",top:"0",right:"0",border:"0","z-index":"1200"},attrs:{src:"https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png",alt:"Fork me on GitHub"}})])],1)},c=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-slide-y-transition",{attrs:{mode:"out-in"}},[r("v-layout",{attrs:{column:"","align-center":"","text-xs-center":""}},[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm8:"","offset-sm2":""}},[e.enable?r("div",[e.showPlaceholder?e._e():r("h4",{staticClass:"display-2",style:{color:e.genderColor}},[e._v(e._s(e.gender))]),r("input",{ref:"fileInput",attrs:{type:"file",hidden:"",accept:"image/*"},on:{change:e.onImageSelected}}),e.showPlaceholder?e._e():r("img",{ref:"preview",attrs:{src:e.selectedImage},on:{load:e.imageLoaded}}),e.showPlaceholder?r("img",{attrs:{src:n("zPtt")}}):e._e(),r("br"),r("v-btn",{attrs:{color:"success",large:"",dark:"",outline:""},on:{click:e.onImageSelect}},[e._v("Upload Image")])],1):r("div",[r("v-progress-circular",{attrs:{size:100,color:"primary",indeterminate:""}}),r("h2",{staticClass:"primary--text"},[e._v("Loading ... Please Wait")])],1)])],1)],1)],1)],1)],1)},l=[],u=n("iv4g"),d=n("C1Pg");function f(e,t,n,r,o){var a=document.createElement("canvas"),i=a.getContext("2d");a.width=t,a.height=n;var c=document.createElement("canvas"),s=c.getContext("2d");return c.width=e.width,c.height=e.height,s.drawImage(e,0,0),i.drawImage(c,r,o,t,n,0,0,t,n),a.toDataURL()}function h(e){return new Promise(function(t,n){var r=document.createElement("canvas"),o=r.getContext("2d"),a=96;r.width=a,r.height=a;var i=new Image;i.src=e,i.onload=function(){o.drawImage(i,0,0,a,a),t(r)},i.onerror=n})}function g(){return d["c"]("gender/model.json")}function p(e,t){return t.predict(e)}function m(e){return h(e).then(function(e){var t=d["b"](e);return t=d["a"](t,"float32"),t=t.div(255),t=t.expandDims(0),t})}var v={name:"GenderDetection",data:function(){return{selectedImage:null,faceImage:null,genderModel:null,gender:null,processing:!1,enable:!1}},computed:{showPlaceholder:function(){return!this.selectedImage},genderColor:function(){return this.processing?"#78909C":"man"===this.gender.toLowerCase()?"#43A047":"#FFA726"}},watch:{faceImage:function(e){var t=this;this.genderModel&&m(this.faceImage).then(function(e){return p(e,t.genderModel)}).then(function(e){var n=Array.from(e.dataSync()),r=["Man","Woman"];t.processing=!1,t.gender=r[n.indexOf(Math.max.apply(Math,Object(u["a"])(n)))],console.log(t.gender)}).catch(function(e){t.processing=!1,console.log(e)})}},mounted:function(){var e=this;this.$nextTick(function(){g().then(function(t){e.genderModel=t,e.enable=!0}).catch(function(e){console.log(e)})})},methods:{reset:function(){this.selectedImage=null,this.faceImage=null,this.gender=null,this.processing=!1},onImageSelect:function(){this.reset(),this.processing=!0,this.gender="Processing ...",this.$refs.fileInput.click()},onImageSelected:function(e){var t=this,n=e.target.files[0],r=new FileReader;n&&r.readAsDataURL(n),r.addEventListener("load",function(){t.selectedImage=r.result})},imageLoaded:function(){this.findFace()},findFace:function(){var e=this;this.gender="Finding Face ...";var t=new tracking.ObjectTracker("face");t.setStepSize(1.7),tracking.track(this.$refs.preview,t),t.on("track",function(t){e.gender="Processing Face ...",t.data.forEach(function(t){var n=f(e.$refs.preview,t.width,t.height,t.x,t.y);e.faceImage=n})})}}},b=v,w=(n("RPEw"),n("KHd+")),y=Object(w["a"])(b,s,l,!1,null,"7e686864",null),x=y.exports,I={name:"App",components:{GenderDetect:x},data:function(){return{items:[{icon:"bubble_chart",title:"Inspire"}],title:"Gender Detection"}}},P=I,k=Object(w["a"])(P,i,c,!1,null,null,null),O=k.exports,_=n("lIOY");Object(_["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),r["default"].config.productionTip=!1,new r["default"]({render:function(e){return e(O)}}).$mount("#app")},zPtt:function(e,t,n){e.exports=n.p+"img/placeholder.386e9382.svg"}});
//# sourceMappingURL=app.e75160eb.js.map